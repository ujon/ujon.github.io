<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">One post tagged with &quot;Project Structure&quot; | ujon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ujon.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ujon.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ujon.github.io/blog/tags/project-structure"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="One post tagged with &quot;Project Structure&quot; | ujon"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ujon.github.io/blog/tags/project-structure"><link data-rh="true" rel="alternate" href="https://ujon.github.io/blog/tags/project-structure" hreflang="en"><link data-rh="true" rel="alternate" href="https://ujon.github.io/ko/blog/tags/project-structure" hreflang="ko"><link data-rh="true" rel="alternate" href="https://ujon.github.io/blog/tags/project-structure" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ujon RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ujon Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8322f1df.css">
<script src="/assets/js/runtime~main.3f7b1a3b.js" defer="defer"></script>
<script src="/assets/js/main.f4c9395b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="ujon" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-dark.svg" alt="ujon" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/memo/dictionary">Memo</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/tags/project-structure" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/ko/blog/tags/project-structure" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">í•œêµ­ì–´</a></li></ul></div><a href="https://github.com/ujon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/20251226__qr_order">[System Design] QR Order</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/20251201__project_structure__spring_boot">[Project Structure] Spring Boot</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>One post tagged with &quot;Project Structure&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/20251201__project_structure__spring_boot">[Project Structure] Spring Boot</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-12-18T00:00:00.000Z">December 18, 2025</time> Â· <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">ujon</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>While working on personal projects, I have organized the project structure and architectural conventions that I frequently use in multi-module Spring Boot projects.
This structure is designed based on a Layered Architecture inspired by Domain-Driven Design(DDD) concepts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure">Project Structure<a href="#project-structure" class="hash-link" aria-label="Direct link to Project Structure" title="Direct link to Project Structure">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{project}-server/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .data/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .docs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .infra/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ database/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ migrations/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â””â”€â”€ v0.0.1__example.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ flyway.local.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ env/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ .env.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ terraform/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ environments/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â””â”€â”€ {environment}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚       â”œâ”€â”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚       â””â”€â”€ variable.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ modules/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ gradle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ libs.versions.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ {project}-api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ src/main/kotlin/{project}/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ {path}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”‚   â”œâ”€â”€ request/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”‚   â”œâ”€â”€ response/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”‚   â”œâ”€â”€ {path}Controller.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”‚   â”œâ”€â”€ {path}Facade.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”‚   â””â”€â”€ {path}FacadeImpl.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â””â”€â”€ {project}Api.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ {project}-admin-api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ {project}-batch/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ src/main/kotlin/{project}/batch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ job/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ processor/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ scheduler/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ tasklet/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â””â”€â”€ {project}Batch.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ {project}-core/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ src/main/kotlin/{project}/core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ {project}-domain/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ src/main/kotlin/{project}/domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ {domain}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ command/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ entity/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ exception/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ query/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ repository/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ vo/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â”œâ”€â”€ ${domain}Service.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚           â””â”€â”€ ${domain}ServiceImpl.kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ infra/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ Makefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ build.gradle.kts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ gradle.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ settings.gradle.kts</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data">.data/<a href="#data" class="hash-link" aria-label="Direct link to .data/" title="Direct link to .data/">â€‹</a></h3>
<p>Used as a volume-mounted data directory for Docker-based local infrastructure.
All files and subdirectories are excluded from version control via .gitignore.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docs">.docs/<a href="#docs" class="hash-link" aria-label="Direct link to .docs/" title="Direct link to .docs/">â€‹</a></h3>
<p>Stores project-related documentation.
Files such as <code>howto.md</code>, <code>structure.md</code>, <code>dictionary.md</code>, and <code>history.md</code> are created to ensure that the project can be easily understood even after some time has passed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="infra">.infra/<a href="#infra" class="hash-link" aria-label="Direct link to .infra/" title="Direct link to .infra/">â€‹</a></h3>
<p>This directory contains all configurations required to manage infrastructure as code.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database">database/<a href="#database" class="hash-link" aria-label="Direct link to database/" title="Direct link to database/">â€‹</a></h4>
<p>Database schema migrations are managed using Flyway under the <code>migrations</code> directory.
Migration file naming conventions are defined through Flyway configuration.</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flyway.sqlMigrationPrefix=v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.sqlMigrationSeparator=__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.sqlMigrationSuffixes=.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.baselineOnMigrate=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.baselineDescription=Initial baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.baselineVersion=0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.createSchemas=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway.table=flyway_schema_history</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="terraform">terraform/<a href="#terraform" class="hash-link" aria-label="Direct link to terraform/" title="Direct link to terraform/">â€‹</a></h4>
<p>Cloud infrastructure is managed using Terraform.
The <code>environments/</code> directory contains environment-specific configurations, where <code>main.tf</code> defines the modules to be used and <code>variables.tf</code> declares required variables.</p>
<p>Reusable cloud service modules such as EC2, VPC, Security Group, and S3 are defined under the modules/ directory.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-composeyml">docker-compose.yml<a href="#docker-composeyml" class="hash-link" aria-label="Direct link to docker-compose.yml" title="Direct link to docker-compose.yml">â€‹</a></h4>
<p>Managed using Docker Compose to quickly provision and run required infrastructure in the local development environment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gradle">gradle/<a href="#gradle" class="hash-link" aria-label="Direct link to gradle/" title="Direct link to gradle/">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="libsversionstoml">libs.versions.toml<a href="#libsversionstoml" class="hash-link" aria-label="Direct link to libs.versions.toml" title="Direct link to libs.versions.toml">â€‹</a></h4>
<p>Uses Gradle Version Catalog to centrally manage versions of all libraries and plugins used across the project.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[versions]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin = &quot;2.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot = &quot;3.5.5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-dependency-management = &quot;1.1.7&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">querydsl = &quot;7.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mockk = &quot;1.14.5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">springmockk = &quot;4.0.2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asciidoctor = &quot;4.0.4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jjwt = &quot;0.13.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlinx-coroutines = &quot;1.7.3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapstruct = &quot;1.6.3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[libraries]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Spring Boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-web = { module = &quot;org.springframework.boot:spring-boot-starter-web&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-batch = { module = &quot;org.springframework.boot:spring-boot-starter-batch&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-mail = { module = &quot;org.springframework.boot:spring-boot-starter-mail&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-validation = { module = &quot;org.springframework.boot:spring-boot-starter-validation&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-actuator = { module = &quot;org.springframework.boot:spring-boot-starter-actuator&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-security = { module = &quot;org.springframework.boot:spring-boot-starter-security&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot-starter-test = { module = &quot;org.springframework.boot:spring-boot-starter-test&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-restdocs = { module = &quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;, version = &quot;3.0.5&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-restdocs-asciidoctor = { module = &quot;org.springframework.restdocs:spring-restdocs-asciidoctor&quot;, version = &quot;3.0.5&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Kotlin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#kotlin-stdlib = { module = &quot;org.jetbrains.kotlin:kotlin-stdlib&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-reflect = { module = &quot;org.jetbrains.kotlin:kotlin-reflect&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#kotlinx-coroutines-core = { module = &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core&quot;, version.ref = &quot;kotlinx-coroutines&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#kotlinx-coroutines-reactor = { module = &quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;, version.ref = &quot;kotlinx-coroutines&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Jackson</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jackson-module-kotlin = { module = &quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postgresql = { module = &quot;org.postgresql:postgresql&quot;, version = &quot;42.7.7&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># QueryDSL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">querydsl-core = { module = &quot;io.github.openfeign.querydsl:querydsl-core&quot;, version.ref = &quot;querydsl&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">querydsl-jpa = { module = &quot;io.github.openfeign.querydsl:querydsl-jpa&quot;, version.ref = &quot;querydsl&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">querydsl-apt = { module = &quot;io.github.openfeign.querydsl:querydsl-apt&quot;, version.ref = &quot;querydsl&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># OAuth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">google-oauth = { module = &quot;com.google.auth:google-auth-library-oauth2-http&quot;, version = &quot;1.38.0&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">google-api-client = { module = &quot;com.google.api-client:google-api-client&quot;, version = &quot;2.8.1&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># JWT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jwt-api = { module = &quot;io.jsonwebtoken:jjwt-api&quot;, version.ref = &quot;jjwt&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jwt-impl = { module = &quot;io.jsonwebtoken:jjwt-impl&quot;, version.ref = &quot;jjwt&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jwt-jackson = { module = &quot;io.jsonwebtoken:jjwt-jackson&quot;, version.ref = &quot;jjwt&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Mapstruct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapstruct = { module = &quot;org.mapstruct:mapstruct&quot;, version.ref = &quot;mapstruct&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapstruct-processor = { module = &quot;org.mapstruct:mapstruct-processor&quot;, version.ref = &quot;mapstruct&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ETC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uuid = { module = &quot;com.fasterxml.uuid:java-uuid-generator&quot;, version = &quot;5.1.0&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-test-junit5 = { module = &quot;org.jetbrains.kotlin:kotlin-test-junit5&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mockk = { module = &quot;io.mockk:mockk&quot;, version.ref = &quot;mockk&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">springmockk = { module = &quot;com.ninja-squad:springmockk&quot;, version.ref = &quot;springmockk&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">junit-platform-launcher = { module = &quot;org.junit.platform:junit-platform-launcher&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[bundles]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-web = [&quot;spring-boot-starter-web&quot;, &quot;spring-boot-starter-validation&quot;, &quot;jackson-module-kotlin&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-batch = [&quot;spring-boot-starter-batch&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-security = [&quot;spring-boot-starter-security&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">health-check = [&quot;spring-boot-starter-actuator&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-base = [&quot;kotlin-reflect&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test = [&quot;spring-boot-starter-test&quot;, &quot;kotlin-test-junit5&quot;, &quot;mockk&quot;, &quot;springmockk&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">infra-rdbms = [&quot;spring-boot-starter-data-jpa&quot;, &quot;querydsl-core&quot;, &quot;querydsl-jpa&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jwt-runtime = [&quot;jwt-impl&quot;, &quot;jwt-jackson&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[plugins]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-jvm = { id = &quot;org.jetbrains.kotlin.jvm&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-spring = { id = &quot;org.jetbrains.kotlin.plugin.spring&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-jpa = { id = &quot;org.jetbrains.kotlin.plugin.jpa&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kotlin-kapt = { id = &quot;org.jetbrains.kotlin.kapt&quot;, version.ref = &quot;kotlin&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-boot = { id = &quot;org.springframework.boot&quot;, version.ref = &quot;spring-boot&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring-dependency-management = { id = &quot;io.spring.dependency-management&quot;, version.ref = &quot;spring-dependency-management&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asciidoctor-jvm-convert = { id = &quot;org.asciidoctor.jvm.convert&quot;, version.ref = &quot;asciidoctor&quot; }</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-api">{project}-api/<a href="#project-api" class="hash-link" aria-label="Direct link to {project}-api/" title="Direct link to {project}-api/">â€‹</a></h3>
<p>Previously, the Presentation Layer (Controller) and Application Layer (Facade) were managed in separate packages, each defining its own DTOs and mapping logic.</p>
<p>However, as development progressed, I observed that this approach introduced excessive duplication of DTOs and mapping code.
In many cases, Controllers and Facades handled nearly identical request and response data, making the structure costly to maintain.</p>
<p>As a result, the current structure simplifies this by allowing Controllers and Facades to share Request and Response DTOs.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Previous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{project}-api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ src/main/kotlin/{project}/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ controller/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚   â””â”€â”€ {path}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â”œâ”€â”€ request/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â””â”€â”€ response/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ facade/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            â””â”€â”€ {path}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”œâ”€â”€ input/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â””â”€â”€ output/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{project}-api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ src/main/kotlin/{project}/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ {path}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            â”œâ”€â”€ request/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            â””â”€â”€ response/</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="common">common<a href="#common" class="hash-link" aria-label="Direct link to common" title="Direct link to common">â€‹</a></h4>
<p>Manages components and objects shared across multiple modules, such as Filters, Exception Handlers, DTOs, and configuration properties.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mapping">Mapping<a href="#mapping" class="hash-link" aria-label="Direct link to Mapping" title="Direct link to Mapping">â€‹</a></h4>
<p>In earlier Java-based Spring Boot projects, DTO mappings were handled using MapStruct with separate Mapper classes for each layer.
After transitioning to Kotlin Spring Boot, MapStruct often caused unclear mapping relationships and frequent compile-time or runtime errors, reducing its overall usability.</p>
<p>Currently, DTO mapping is handled using Kotlin extension functions, which are declared as <code>private</code> to limit their scope.
The naming convention for mapping functions follows the pattern <code>to{TargetDtoName}</code>.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// MARK: - example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> CreateUserRequest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toCreateUserCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">CreateUserCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-batch">{project}-batch/<a href="#project-batch" class="hash-link" aria-label="Direct link to {project}-batch/" title="Direct link to {project}-batch/">â€‹</a></h3>
<p>All packages, except common, define components strictly according to their directory name and responsibility.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="common-1">common/<a href="#common-1" class="hash-link" aria-label="Direct link to common/" title="Direct link to common/">â€‹</a></h4>
<p>Contains shared Job configurations and Listener configurations used across batch jobs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-domain">{project}-domain/<a href="#project-domain" class="hash-link" aria-label="Direct link to {project}-domain/" title="Direct link to {project}-domain/">â€‹</a></h3>
<p>Previously, infrastructure modules (e.g., rdbms, redis, mongodb) were separated under an infra module and implemented by the domain module.</p>
<p>However, without a fully separated domain boundary, this approach increased complexity without providing sufficient benefits.
Therefore, the current design keeps infrastructure-related configurations within the domain module, with the intention of extracting them into separate modules once the service grows in size.</p>
<p>The <code>command</code> and <code>query</code> packages store DTOs for data mutation and data retrieval, respectively.
File naming follows the conventions <code>{name}Command.kt</code> and <code>{name}Query.kt</code>.</p>
<p>The entity package contains database entities, while the <code>vo</code> package stores enums and Value Objects used within entities.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makefile">Makefile<a href="#makefile" class="hash-link" aria-label="Direct link to Makefile" title="Direct link to Makefile">â€‹</a></h3>
<p>Centralizes frequently used commands such as starting and stopping Docker-based local infrastructure and executing Flyway schema migrations.</p>
<div class="language-Makefile language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Environment Variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">include .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get absolute project path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PROJECT_ROOT := $(shell pwd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFRA_PATH := $(PROJECT_ROOT)/.infra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_PATH := $(PROJECT_ROOT)/.infra/database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIGRATIONS_PATH := $(DATABASE_PATH)/migrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VOLUME_PATH := $(PROJECT_ROOT)/.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Environment file selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV ?= local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV_FILE := $(PROJECT_ROOT)/.infra/env/.env.$(ENV)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Load environment-specific file if exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ifneq (,$(wildcard $(ENV_FILE)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	include $(ENV_FILE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	export</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.PHONY: help env-* flyway-* container-*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">help: ## Show this help message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ”§ Available Commands:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;=====================&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@awk &#x27;BEGIN {FS = &quot;:.*?## &quot;; printf &quot;\n&quot;} /^[a-zA-Z_-]+:.*?## / {printf &quot;  \033[36m%-20s\033[0m %s\n&quot;, $$1, $$2}&#x27; $(MAKEFILE_LIST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ“ Usage Examples:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;  make help                    # Show this help&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;  make env-show               # Show current environment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;  make container-up           # Start services&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;  make ENV=prod container-up  # Start services with production config&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸŒ Available Environments:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;  local (default), dev, prod&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env-show: ## Show current environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ“‹ Current Environment Variables:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;=================================&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;Environment: $(ENV)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;Project Root: $(PROJECT_ROOT)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;DB Host: $(DB_HOST)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;DB Name: $(DB_NAME)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;Migrations Path: $(MIGRATIONS_PATH)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;Database Path Path: $(DATABASE_PATH)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;Volume Path: $(VOLUME_PATH)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env-validate: ## Validate required environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ” Validating environment variables...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -n &quot;$(DB_HOST)&quot; || (echo &quot;âŒ DB_HOST not set&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -n &quot;$(DB_NAME)&quot; || (echo &quot;âŒ DB_NAME not set&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -n &quot;$(DB_USERNAME)&quot; || (echo &quot;âŒ DB_USERNAME not set&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -n &quot;$(DB_PASSWORD)&quot; || (echo &quot;âŒ DB_PASSWORD not set&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -d &quot;$(MIGRATIONS_PATH)&quot; || (echo &quot;âŒ Migrations directory not found: $(MIGRATIONS_PATH)&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -d &quot;$(DATABASE_PATH)&quot; || (echo &quot;âŒ Database directory not found: $(DATABASE_PATH)&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@test -d &quot;$(VOLUME_PATH)&quot; || (echo &quot;âŒ Volume path not found: $(VOLUME_PATH)&quot; &amp;&amp; exit 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;âœ… All required variables are set!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volume-init: ## Initialize volume directories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@mkdir $(VOLUME_PATH)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@mkdir $(VOLUME_PATH)/postgresql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@mkdir $(VOLUME_PATH)/redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;âœ… Volume directories created!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Container runtime detection and variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER_RUNTIME ?= $(shell which podman &gt;/dev/null &amp;&amp; echo podman || echo docker)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Container up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container-up: ## Start services with container runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ³ Starting services with $(CONTAINER_RUNTIME) ($(ENV))...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@$(CONTAINER_RUNTIME) compose \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		--env-file $(ENV_FILE) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		-f $(INFRA_PATH)/docker-compose.yml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		-p $(PROJECT) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Container down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container-down: ## Stop all services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;ğŸ›‘ Stopping services with $(CONTAINER_RUNTIME) ($(ENV))...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@$(CONTAINER_RUNTIME) compose \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		-f $(INFRA_PATH)/docker-compose.yml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		-p $(PROJECT) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container-clean: ## Clean volumes and reinitialize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@rm -rf $(VOLUME_PATH)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@$(MAKE) volume-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;âœ… Volumes cleaned and reinitialized!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flyway-migrate: ## Run database migrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo $(DATABASE_PATH)/flyway.local.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@$(CONTAINER_RUNTIME) run --rm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		--network host \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		-v $(MIGRATIONS_PATH):/flyway/sql \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		-v $(DATABASE_PATH)/flyway.$(ENV).conf:/flyway/conf/flyway.conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		-e FLYWAY_URL=&quot;$(FLYWAY_URL)&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -e FLYWAY_USER=&quot;$(FLYWAY_USER)&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -e FLYWAY_PASSWORD=&quot;$(FLYWAY_PASSWORD)&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		-e FLYWAY_SCHEMAS=&quot;$(PROJECT)&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		-e FLYWAY_LOCATION=&quot;$(MIGRATIONS_PATH)&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		flyway/flyway:11.11.2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    		migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@echo &quot;âœ… Database migrations completed!&quot;</span><br></span></code></pre></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/project-structure">Project Structure</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 UJON, All Rights Reserved.</div></div></div></footer></div>
</body>
</html>